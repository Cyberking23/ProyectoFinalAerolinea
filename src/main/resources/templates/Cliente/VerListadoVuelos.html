<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Vuelos disponibles</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">

<!-- NAVBAR -->
<header class="flex justify-between items-center px-10 py-4 bg-white shadow-md">
    <div class="flex items-center space-x-2">
        <img src="https://cdn-icons-png.flaticon.com/512/2554/2554973.png" alt="Logo" class="w-8 h-8">
        <span class="text-lg font-semibold text-blue-600">AeroViajes</span>
    </div>

    <nav class="flex space-x-6 text-gray-700 font-medium">
        <a th:href="@{/VueloCliente}" class="hover:text-blue-600">Reservas</a>
        <a th:href="@{/VerListadoVuelos}" class="hover:text-blue-600">Ofertas y destinos</a>
        <a th:href="@{/InsertarDatosComprador}" class="hover:text-blue-600">Informaci√≥n y ayuda</a>
        <a th:href="@{/MetodoPago}" class="hover:text-blue-600">Viajes</a>
        <a th:href="@{/CancelacionVuelo}" class="hover:text-blue-600">Cancelaciones</a>
        <a th:href="@{/Reclamo}" class="hover:text-blue-600">Reclamos</a>
    </nav>

    <a th:href="@{/}" class="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-full font-semibold">
        Reservar
    </a>
</header>

<!-- T√çTULO -->
<section class="text-center mt-10">
    <!-- Vac√≠o -->
    <h1 class="text-xl font-semibold text-gray-800" th:if="${#lists.isEmpty(vuelos)}">
        Vuelos disponibles
    </h1>
    <!-- Con datos -->
    <h1 class="text-xl font-semibold text-gray-800"
        th:unless="${#lists.isEmpty(vuelos)}"
        th:text="|${vuelos[0].origen} - ${vuelos[0].destino}|">
        Vuelos disponibles
    </h1>
</section>

<section class="max-w-7xl mx-auto mt-10">

    <!-- MENSAJE LISTA VAC√çA -->
    <div th:if="${#lists.isEmpty(vuelos)}"
         class="bg-white rounded-lg shadow p-6 text-center text-gray-500">
        No hay vuelos disponibles por ahora.
    </div>

    <!-- ENCABEZADO ALINEADO -->
    <div th:if="${!#lists.isEmpty(vuelos)}"
         class="hidden md:grid grid-cols-12 gap-4 text-sm text-gray-600 px-4">
        <div class="col-span-3">Aerol√≠nea</div>
        <div class="text-center">Salida</div>
        <div class="text-center">Duraci√≥n</div>
        <div class="text-center">Origen</div>
        <div class="text-center">Destino</div>
        <div class="text-center">Ruta</div>
        <div class="col-span-2 text-center">Avi√≥n</div>
        <div class="text-center">Precio</div>
        <div class="text-center">Acci√≥n</div>
    </div>

    <!-- FILAS -->
    <div class="mt-2 space-y-3">
        <article th:each="vuelo : ${vuelos}"
                 class="bg-white rounded-lg shadow hover:shadow-lg transition md:grid md:grid-cols-12 md:gap-4 md:items-center p-4">

            <!-- Aerol√≠nea -->
            <div class="md:col-span-3 flex items-center gap-3">
                <img th:src="@{/img/avion.png}" alt="Logo Aerol√≠nea" class="h-10 w-10 object-contain">
                <div>
                    <div class="font-semibold text-gray-900"
                         th:text="${vuelo.aerolinea != null ? vuelo.aerolinea.nombre : '‚Äî'}">Aerol√≠nea
                    </div>
                    <div class="text-gray-500 text-xs" th:text="${vuelo.identificador}">COD-1234</div>
                </div>
            </div>

            <!-- Salida -->
            <div class="text-center">
                <div class="font-medium">Salida</div>
                <div th:text="${#temporals.format(vuelo.fechaSalida, 'HH:mm')}">08:34</div>
            </div>

            <!-- Duraci√≥n -->
            <div class="text-center">
                <div class="font-medium">Duraci√≥n</div>
                <div th:text="${vuelo.duracionHoras != null ?
                      vuelo.duracionHoras :
                      (T(java.time.temporal.ChronoUnit).MINUTES.between(vuelo.fechaSalida, vuelo.fechaLlegada) / 60) + 'h ' +
                      (T(java.time.temporal.ChronoUnit).MINUTES.between(vuelo.fechaSalida, vuelo.fechaLlegada) % 60) + 'm'}">
                    02:40
                </div>
            </div>

            <!-- Origen -->
            <div class="text-center">
                <div class="font-medium">Origen</div>
                <div th:text="${vuelo.origen}">SAL</div>
            </div>

            <!-- Destino -->
            <div class="text-center">
                <div class="font-medium">Destino</div>
                <div th:text="${vuelo.destino}">MIA</div>
            </div>

            <!-- Ruta -->
            <div class="text-center">
                <div class="font-medium">Ruta</div>
                <div th:text="|${vuelo.origen}-${vuelo.destino}|">SAL-MIA</div>
            </div>

            <!-- Avi√≥n -->
            <div class="md:col-span-2 text-center">
                <div class="font-medium">Avi√≥n</div>
                <div th:text="${vuelo.avion != null ? vuelo.avion.modelo : '‚Äî'}">Boeing 737-800</div>
            </div>

            <!-- Precio -->
            <div class="text-center">
                <div class="font-medium">Precio</div>
                <div class="text-lg font-bold text-gray-900"
                     th:text="'$' + ${#numbers.formatDecimal(vuelo.tarifa, 1, 'COMMA', 2, 'POINT')}">
                    $299.99
                </div>
            </div>

            <!-- Acci√≥n -->
            <div class="text-center">
                <a class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-semibold"
                   th:href="@{'/InsertarDatosComprador'(id=${vuelo.id})}">
                    Comprar
                </a>
            </div>
        </article>
    </div>
</section>

<!-- FOOTER -->
<footer class="bg-black text-white mt-16 py-10">
    <div class="max-w-7xl mx-auto grid grid-cols-4 gap-8 text-sm">
        <div>
            <h3 class="font-bold mb-3">Descubre y compra</h3>
            <ul class="space-y-1">
                <li>Vuelos Baratos</li>
                <li>Reserva de Hotel</li>
                <li>Alquiler de Autos</li>
                <li>Tours y excursiones</li>
            </ul>
        </div>

        <div>
            <h3 class="font-bold mb-3">Sobre Nosotros</h3>
            <ul class="space-y-1">
                <li>Qui√©nes Somos</li>
                <li>Trabaja con nosotros</li>
                <li>Alianzas y Beneficios</li>
                <li>Sostenibilidad</li>
            </ul>
        </div>

        <div>
            <h3 class="font-bold mb-3">Enlaces R√°pidos</h3>
            <ul class="space-y-1">
                <li>Informaci√≥n Legal</li>
                <li>Pol√≠ticas de privacidad</li>
                <li>Contrato de Transportes</li>
                <li>Cambios y reembolsos</li>
            </ul>
        </div>

        <div>
            <h3 class="font-bold mb-3">S√≠guenos</h3>
            <div class="flex space-x-3">
                <a href="#" class="hover:text-blue-400">üê¶</a>
                <a href="#" class="hover:text-blue-600">üìò</a>
                <a href="#" class="hover:text-pink-500">üì∏</a>
                <a href="#" class="hover:text-gray-300">üíº</a>
            </div>
        </div>
    </div>
</footer>

</body>
</html>
